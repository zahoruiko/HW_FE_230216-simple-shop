{"version":3,"sources":["components/Header.jsx","components/Loader.jsx","config.js","components/GoodItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","components/Footer.jsx","App.jsx","index.js"],"names":["Header","react_default","a","createElement","className","href","id","Loader","process","REACT_APP_API_KEY","GoodItem","props","name","description","full_background","price","addToBasket","src","alt","onClick","style","fontSize","GoodsList","_props$goods","goods","length","map","item","components_GoodItem","Object","assign","key","Cart","handleBasketShow","_props$quantity","quantity","BasketItem","_props$removeFromBask","removeFromBasket","Function","prototype","_props$changeQuantity","changeQuantity","BasketList","_props$handleBasketSh","_props$handleCheckout","handleCheckout","_props$order","order","totalPrice","reduce","sum","orderItem","components_BasketItem","Alert","_props$text","text","_props$closeAlert","closeAlert","useEffect","timer","setTimeout","clearTimeout","Shop","_useState","useState","_useState2","slicedToArray","setGoods","_useState3","_useState4","loading","setLoading","_useState5","_useState6","setOrder","_useState7","_useState8","isBasketShow","setBasketShow","_useState9","_useState10","alertText","setAlertText","fetch","headers","Authorization","then","response","json","data","featured","catch","err","console","warn","finally","components_Cart","components_Loader","components_GoodsList","itemIndex","findIndex","newItem","objectSpread","concat","toConsumableArray","newOrder","index","components_BasketList","itemId","filter","operation","newQuantity","components_Alert","Footer","Date","getFullYear","App","components_Header","components_Shop","components_Footer","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.11c2d02b.chunk.js","sourcesContent":["import React from 'react'\n\nconst Header = () => {\n  return (\n    <nav className=\"deep-purple\">\n      <div className=\"nav-wrapper\">\n        <a href=\"#\" className=\"brand-logo\">\n          Logo\n        </a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li>\n            <a href=\"#\">Log in</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  )\n}\n\nexport default Header","import React from 'react';\n\nconst Loader = () => {\n    return (\n        <div className=\"progress\">\n            <div className=\"indeterminate\"></div>\n        </div>\n    );\n};\n\nexport default Loader;","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\n\nexport { API_KEY, API_URL };\n","import React from 'react'\n\nconst GoodItem = (props) => {\n  const { id, name, description, full_background, price, addToBasket } = props\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img src={full_background} alt={name} />\n        {/* <span className=\"card-title\">{name}</span> */}\n      </div>\n      <div className=\"card-content\">\n        <p>{description}</p>\n      </div>\n      <div className=\"card-action\">\n        <button onClick={() => addToBasket({\n            id,\n            name,\n            price\n        })} className=\"btn\">Buy</button>\n        <span className=\"right\" style={{fontSize: '1.5rem'}}>${price}</span>\n      </div>\n    </div>\n  )\n}\n\nexport default GoodItem\n","import React from 'react'\nimport GoodItem from './GoodItem'\n\nconst GoodsList = (props) => {\n  const { goods = [], addToBasket } = props\n\n  if (!goods.length) {\n    return <h3>Nothing here</h3>\n  }\n\n  return (\n    <div className=\"goods\">\n      {goods.map((item) => (\n        <GoodItem key={item.id} {...item} addToBasket={addToBasket} />\n      ))}\n    </div>\n  )\n}\n\nexport default GoodsList\n","import React from 'react';\n\nconst Cart = (props) => {\n    const { handleBasketShow, quantity = 0 } = props\n\n    return (\n        <div className=\"cart blue darken-4 white-text\" onClick={handleBasketShow}>\n            <i className=\"material-icons\">shopping_cart</i>\n            {\n                quantity ? (\n                    <span className=\"cart-quantity\">{quantity}</span>\n                ) : null\n            }\n        </div>\n    );\n};\n\nexport default Cart;","import React from 'react'\n\nconst BasketItem = (props) => {\n  const {\n    id,\n    name,\n    price,\n    quantity,\n    removeFromBasket = Function.prototype,\n    changeQuantity = Function.prototype,\n  } = props\n\n  return (\n    <li className=\"collection-item basket-item\">\n      {name} {price} x\n      <i className=\"material-icons item-change\" onClick={() => changeQuantity(id, '-')}>\n        remove\n      </i>\n      {quantity}\n      <i className=\"material-icons item-change\" onClick={() => changeQuantity(id, '+')}>\n        add\n      </i>{' '}\n      = ${price * quantity}\n      <span className=\"secondary-content item-delete\">\n        <i className=\"material-icons\" onClick={() => removeFromBasket(id)}>\n          close\n        </i>\n      </span>\n    </li>\n  )\n}\n\nexport default BasketItem;\n","import React from 'react'\nimport BasketItem from './BasketItem'\n\nconst BasketList = (props) => {\n  const {\n      removeFromBasket = Function.prototype,\n      handleBasketShow = Function.prototype,\n      changeQuantity = Function.prototype,\n      handleCheckout = Function.prototype,\n      order = [],\n  } = props\n\n  const totalPrice = order.reduce((sum, item) => {\n      return sum + item.price * item.quantity;\n  }, 0);\n\n  return (\n    <ul className=\"collection basket-list\">\n      <li className=\"collection-item active deep-purple\">Cart</li>\n      {order.length ? (\n        order.map((orderItem) => (\n          <BasketItem\n              key={orderItem.id}\n              removeFromBasket={removeFromBasket}\n              changeQuantity={changeQuantity}\n              {...orderItem}\n          />\n        ))\n      ) : (\n        <li className=\"collection-item\">The cart is empty</li>\n      )}\n      <li className=\"collection-item deep-purple active\">Total cost: ${totalPrice}\n      <button onClick={handleCheckout}>Make a purchase!</button></li>\n      <i className=\"material-icons basket-close\" onClick={handleBasketShow}>\n        close\n      </i>\n    </ul>\n  )\n}\n\nexport default BasketList\n","import React, { useEffect } from 'react';\n\nconst Alert = (props) => {\n    const { text = '', closeAlert = Function.prototype } = props;\n\n    useEffect(() => {\n        const timer = setTimeout(closeAlert, 3000);\n\n        return () => {\n            clearTimeout(timer);\n        }\n    }, [text]);\n\n    return (\n        <div id=\"toast-container\">\n            <div className=\"toast\">{text}</div>\n        </div>\n    );\n};\n\nexport default Alert;","import React, { useEffect, useState } from 'react';\nimport { API_URL } from '../config';\nimport Loader from './Loader';\nimport GoodsList from './GoodsList';\nimport Cart from './Cart';\nimport BasketList from './BasketList';\nimport Alert from \"./Alert\";\n\nconst Shop = () => {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isBasketShow, setBasketShow] = useState(false);\n  const [alertText, setAlertText] = useState('');\n\n  const addToBasket = (item) => {\n    const itemIndex = order.findIndex((orderItem) => orderItem.id === item.id);\n\n    if (itemIndex < 0) {\n      const newItem = {\n        ...item,\n        quantity: 1,\n      }\n      setOrder([...order, newItem]);\n    } else {\n      const newOrder = order.map((orderItem, index) => {\n        if (index === itemIndex) {\n          return {\n            ...orderItem,\n            quantity: orderItem.quantity + 1,\n          }\n        } else {\n          return orderItem;\n        }\n      })\n      setOrder(newOrder);\n    }\n    setAlertText(`${item.name} added to the basket`);\n  }\n\n  const handleCheckout = () => {\n    setBasketShow(!isBasketShow);\n    setOrder([]);\n    setAlertText(`Thank you for your purchase!`);\n    \n  }\n\n  const removeFromBasket = (itemId) => {\n    const newOrder = order.filter((item) => item.id !== itemId);\n    setOrder(newOrder);\n  }\n\n  const changeQuantity = (itemId, operation) => {\n    const newOrder = order.map((item) => {\n      if (item.id === itemId) {\n        let newQuantity;\n        if (operation === '+') newQuantity = ++item.quantity;\n        if (operation === '-') newQuantity = --item.quantity;\n        return {\n          ...item,\n          quantity:\n            operation === '-'\n              ? newQuantity >= 0\n                ? newQuantity\n                : 0\n              : newQuantity,\n        }\n      } else {\n        return item;\n      }\n    })\n    setOrder(newOrder);\n  }\n\n  const handleBasketShow = () => {\n    setBasketShow(!isBasketShow);\n  }\n\n  const closeAlert = () => {\n    setAlertText('');\n  }\n\n  useEffect(() => {\n    fetch(API_URL, {\n      headers: {\n        Authorization: '1857368b-63ecfdb8-90d1fa10-b4c25b20',\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => data.featured && setGoods(data.featured))\n      .catch((err) => console.warn(err))\n      .finally(() => setLoading(false));\n  }, [])\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\n      {loading ? (\n        <Loader />\n      ) : (\n        <GoodsList goods={goods} addToBasket={addToBasket} />\n      )}\n      {isBasketShow ? (\n        <BasketList\n          order={order}\n          handleBasketShow={handleBasketShow}\n          removeFromBasket={removeFromBasket}\n          changeQuantity={changeQuantity}\n          handleCheckout={handleCheckout}\n        />\n      ) : null}\n      {\n        alertText ? <Alert text={alertText} closeAlert={closeAlert} /> : null\n      }\n    </main>\n  )\n}\n\nexport default Shop\n","import React from 'react'\n\nconst Footer = () => {\n  return (\n    <footer className=\"page-footer deep-purple lighten-2\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          Â© {new Date().getFullYear()} Copyright Text\n        </div>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer","import React  from 'react';\nimport Header from './components/Header';\nimport Shop from './components/Shop';\nimport Footer from './components/Footer';\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Shop />\n      <Footer />\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './index.css';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<App />);\n"],"sourceRoot":""}